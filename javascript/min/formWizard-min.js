!function(i,t,a,r){"use strict";function n(t){if(!i(t).is("form"))throw"Cannot build form wizard, because element is not a form!";var a=i.fn.formWizard,r=a.options,n=i(t).children(r.transitionField).length-1;i(t).data({numSteps:n,currStep:0}),i(t).find(r.transitionField+":not(:first)").hide();var o=i("<div></div>").attr("class","formWizard");r.allowBack&&i(o).append("<button data-dir='-1' class='fw_transition                fw_back'><i class='fa fa-chevron-circle-left'></i></button>"),i(o).append("<button data-dir='1' class='fw_transition            fw_next'><i class='fa fa-chevron-circle-right'></i></button>"),i(t).append(o),e(t)}function e(t){d(t),i(t).find(".formWizard button.fw_transition").click(function(a){a.preventDefault();var n=i(t).data(),e=n.currStep,s=n.numSteps,f=i(t).children(i.fn.formWizard.options.transitionField),l=parseInt(i(this).attr("data-dir")),c=!0;if(i.fn.formWizard.options.validate){if(i.fn.formWizard.validator===r){var p=i("script[src *='formWizard.js']"),u=p.attr("src").split(/[0-9a-z]+\.js/i)[0];i.ajax({url:u+"formValidator.js",async:!1,dataType:"script",success:function(){i.fn.formWizard.validator=new FormValidator}})}i(this).is(i(t).find(i("button.fw_back")))||(c=o(i(f).eq(e),i.fn.formWizard.validator))}if(c)if(i.fn.formWizard.options.cycleSteps){var m=(Math.abs(e)+l)%(s+1);i(t).data("currStep",m),f.eq(e).fadeOut(function(){f.eq(m).fadeIn()})}else i(t).data("currStep",e+l),f.eq(e).fadeOut(function(){f.eq(e+l).fadeIn()}),d(t)})}function o(t,a){for(var r=t.find("."+i.fn.formWizard.options.validateClass),n=!0,e=0;e<r.length;e++)if(i(r[e]).focus().css("border",""),!a.validate(r[e])){n=!1,alert("Please fill out the fields appropriately."),i(r[e]).css("border","2px solid red");break}return n}function d(t){var a=i(t).find(i("button.fw_next")),r=i(t).find(i("button.fw_back"));switch(a.prop("disabled",!1),r.prop("disabled",!1),i(t).data("currStep")){case i(t).data("numSteps"):a.prop("disabled",!0),i.fn.formWizard.options.hideDisabledStep&&i(a).hide();break;case 0:r.prop("disabled",!0),i.fn.formWizard.options.hideDisabledStep&&i(r).hide();break;default:i(a).show(),i(r).show()}}var s={init:function(){n(this)}};i.fn.formWizard=function(t){return this.each(function(){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments)):"object"!=typeof t&&t?void i.error(t+": is unsupported within jQuery formWizard!"):(i.fn.formWizard.options=i.extend({},i.fn.formWizard.options,t),s.init.call(this,t))})},i.fn.formWizard.options={allowBack:!1,cycleSteps:!1,transitionField:"fieldset",validate:!0,hideDisabledStep:!1,validateClass:"validate"}}(jQuery,window,document);